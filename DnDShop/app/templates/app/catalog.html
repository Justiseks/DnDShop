{% extends "app/layout.html" %}

{% block content %}
<div class="page-header">
    <h1>Каталог</h1>
    <p>Здесь будут категории и товары.</p>
</div>

  {% if categories %}
<div class="row">
    {% for cat in categories %}
    <div class="col-sm-6 col-md-4">
        <div class="panel panel-default" style="margin-bottom:20px; border-radius:6px; overflow:hidden;">
            <!-- Сделать всю карточку кликабельной: оборачиваем в <a> -->
            <a href="{% url 'category' category_slug=cat.slug %}" style="color:inherit; text-decoration:none; display:block; padding:12px;">
                <div class="panel-body">
                    <h3 style="margin-top:0; margin-bottom:8px;">{{ cat.name }}</h3>
                    {% if cat.description %}
                    <p style="color:#555; margin-bottom:0;">{{ cat.description|truncatechars:160 }}</p>
                    {% else %}
                    <p style="color:#888; margin-bottom:0;"><em>Описание отсутствует</em></p>
                    {% endif %}
                </div>
            </a>
        </div>
    </div>
    {% endfor %}
</div>
  {% else %}
<p>Категории пока не добавлены. Перейдите в админку, чтобы создать категории и товары.</p>
  {% endif %}
{% endblock %}
